import{_ as r,M as p,p as i,q as d,R as s,N as t,V as n,t as a,a1 as o}from"./framework-cdc56dbd.js";const u="/vuepress-data-structure/assets/location-of-compiler-in-language-processing-system-099c78cb.svg",m="/vuepress-data-structure/assets/analyze-source-language-2eddee22.svg",h="/vuepress-data-structure/assets/assignment-statement-analysis-tree-e6bed182.svg",k="/vuepress-data-structure/assets/variable-declaration-statement-9446bdf3.svg",g={},_=s("h1",{id:"_1-绪论",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-绪论","aria-hidden":"true"},"#"),a(" 1. 绪论")],-1),y={class:"table-of-contents"},x=s("h2",{id:"_1-1-什么是编译",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-1-什么是编译","aria-hidden":"true"},"#"),a(" 1.1 什么是编译")],-1),b=s("h3",{id:"_1-1-1-计算机程序设计语言及编译",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-1-1-计算机程序设计语言及编译","aria-hidden":"true"},"#"),a(" 1.1.1 计算机程序设计语言及编译")],-1),f=s("strong",null,"高级语言",-1),v=s("sup",{class:"footnote-ref"},[s("a",{href:"#footnote1"},"[1]"),s("a",{class:"footnote-anchor",id:"footnote-ref1"})],-1),w=s("strong",null,"汇编语言",-1),j=s("sup",{class:"footnote-ref"},[s("a",{href:"#footnote2"},"[2]"),s("a",{class:"footnote-anchor",id:"footnote-ref2"})],-1),D=o("<ul><li>高级语言 <ul><li>编写简单，不依赖特定机器</li><li>如 <code>x = 2</code></li></ul></li><li>汇编语言 <ul><li>编写复杂，需要了解特定机器</li><li>如 <code>mov x 0002</code></li></ul></li><li>机器语言 <ul><li>可以被计算机直接理解的语言</li><li>如 <code>C706 0000 0002</code></li></ul></li></ul>",1),T=s("strong",null,"编译",-1),I=s("strong",null,"高级语言",-1),M=s("strong",null,"汇编语言",-1),S=s("strong",null,"机器语言",-1),E=s("strong",null,"编译器",-1),A=s("h3",{id:"_1-1-2-编译器在语言处理系统中的位置",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-1-2-编译器在语言处理系统中的位置","aria-hidden":"true"},"#"),a(" 1.1.2 编译器在语言处理系统中的位置")],-1),L=s("p",null,"编译过程在语言处理系统中的作用可以用下图表示：",-1),z=s("p",null,[s("img",{src:u,alt:"编译器在语言处理系统中的位置",loading:"lazy"})],-1),C=s("strong",null,"可重定位的机器代码",-1),N=s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mi",null,"L")]),s("annotation",{encoding:"application/x-tex"},"L")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord mathnormal"},"L")])])],-1),B=s("strong",null,"外部地址",-1),O=s("p",null,[s("strong",null,"预处理器"),a(" 的功能：")],-1),P=s("ul",null,[s("li",null,[a("把储存在不同文件中的源程序 "),s("em",null,"聚合"),a(" 在一起")]),s("li",null,[a("把 "),s("strong",null,"宏"),a("（Macro）转换为原始语句")])],-1),V=s("p",null,[s("strong",null,"加载器"),a(" 的功能：")],-1),R=s("ul",null,[s("li",null,"修改可重定位地址，将修改后的指令和数据放到内存的适当位置"),s("li",null,[a("计算地址公式："),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mtext",null,"起始位置"),s("mo",null,"+"),s("mtext",null,"相对地址"),s("mo",null,"="),s("mtext",null,"绝对地址")]),s("annotation",{encoding:"application/x-tex"},"\\text{起始位置} + \\text{相对地址} = \\text{绝对地址}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"起始位置")]),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),s("span",{class:"mbin"},"+"),s("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"相对地址")]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6833em"}}),s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"绝对地址")])])])])])],-1),q=o('<p><strong>链接器</strong> 的功能：</p><ul><li>将多个可重定位的机器代码文件（包括库文件）连接到一起</li><li>解决外部内存地址问题</li></ul><h2 id="_1-2-编译系统的结构" tabindex="-1"><a class="header-anchor" href="#_1-2-编译系统的结构" aria-hidden="true">#</a> 1.2 编译系统的结构</h2><h3 id="_1-2-1-人工英汉翻译的例子" tabindex="-1"><a class="header-anchor" href="#_1-2-1-人工英汉翻译的例子" aria-hidden="true">#</a> 1.2.1 人工英汉翻译的例子</h3><p>如何翻译 <code>&quot;In his room, he broke a window with a hammer.&quot;</code> ？</p><h3 id="_1-2-2-编译器的结构" tabindex="-1"><a class="header-anchor" href="#_1-2-2-编译器的结构" aria-hidden="true">#</a> 1.2.2 编译器的结构</h3>',6),F=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{rowspacing:"0.25em",columnalign:"right left right left right",columnspacing:"0em 1em 0em 1em"},[s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mtext",null,"源语言")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"→")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mtext",null,"句子的语义"),s("mtext",null,"  ")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"→")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mtext",null,"目标语言")])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",{stretchy:"false"},"("),s("mn",null,"1"),s("mo",{stretchy:"false"},")")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mtext",null,"(中间语言)"),s("mtext",null,"  ")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mtext",null,"  "),s("mo",{stretchy:"false"},"("),s("mn",null,"2"),s("mo",{stretchy:"false"},")")])])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow")])])])]),s("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\text{源语言} &\\rightarrow& \\text{句子的语义}\\; &\\rightarrow& \\text{目标语言} \\\\ & (1) & \\text{(中间语言)}\\; & \\;(2) & \\end{aligned} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"3em","vertical-align":"-1.25em"}}),s("span",{class:"mord"},[s("span",{class:"mtable"},[s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.75em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"源语言")])])]),s("span",{style:{top:"-2.41em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"})])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.25em"}},[s("span")])])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.75em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"→")])]),s("span",{style:{top:"-2.41em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"1"),s("span",{class:"mclose"},")")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.25em"}},[s("span")])])])]),s("span",{class:"arraycolsep",style:{width:"1em"}}),s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.75em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"句子的语义")]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})])]),s("span",{style:{top:"-2.41em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord"},"("),s("span",{class:"mord cjk_fallback"},"中间语言"),s("span",{class:"mord"},")")]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.25em"}},[s("span")])])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.75em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"→")])]),s("span",{style:{top:"-2.41em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mopen"},"("),s("span",{class:"mord"},"2"),s("span",{class:"mclose"},")")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.25em"}},[s("span")])])])]),s("span",{class:"arraycolsep",style:{width:"1em"}}),s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.75em"}},[s("span",{style:{top:"-3.91em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"目标语言")])])]),s("span",{style:{top:"-2.41em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"})])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.25em"}},[s("span")])])])])])])])])])])],-1),H=s("strong",null,"语义分析",-1),K=s("strong",null,"语法分析",-1),Q=s("strong",null,"词法分析",-1),W=s("li",null,"生成目标语言",-1),G=s("p",null,"示意图：",-1),J=s("p",null,[s("img",{src:m,alt:"分析源语言",loading:"lazy"})],-1),U=s("strong",null,"编译前端",-1),X=s("em",null,"源语言",-1),Y=s("strong",null,"编译后端",-1),Z=s("em",null,"目标语言",-1),$=s("strong",null,"语法制导翻译",-1),ss=s("em",null,"翻译",-1),as=s("em",null,"语法制导翻译",-1),ts=o('<h2 id="_1-3-词法分析概述" tabindex="-1"><a class="header-anchor" href="#_1-3-词法分析概述" aria-hidden="true">#</a> 1.3 词法分析概述</h2><h3 id="_1-3-1-词法分析的作用" tabindex="-1"><a class="header-anchor" href="#_1-3-1-词法分析的作用" aria-hidden="true">#</a> 1.3.1 词法分析的作用</h3><p>词法分析器的作用：</p><ul><li>从左到右扫描源程序的字符，识别出各个单词，确定单词的类型</li><li>将识别出的单词转换为统一的 <em>机内表示</em> —— <strong>词法单元</strong>（Token）的形式</li></ul>',4),ns=s("p",null,[a("一个词法单元 "),s("code",null,"token"),a(" 可以表示为 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("mo",null,"<"),s("mtext",null,"种别码"),s("mo",{separator:"true"},","),s("mtext",null," "),s("mtext",null,"属性值"),s("mo",null,">")]),s("annotation",{encoding:"application/x-tex"},"<\\text{种别码},\\, \\text{属性值}>")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.5782em","vertical-align":"-0.0391em"}}),s("span",{class:"mrel"},"<"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8778em","vertical-align":"-0.1944em"}}),s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"种别码")]),s("span",{class:"mpunct"},","),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),s("span",{class:"mord text"},[s("span",{class:"mord cjk_fallback"},"属性值")]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},">")])])]),a("。")],-1),es=o(`<table><thead><tr><th style="text-align:center;">单词类型</th><th style="text-align:center;">种别</th><th style="text-align:center;">种别码</th></tr></thead><tbody><tr><td style="text-align:center;">关键字</td><td style="text-align:center;"><code>program</code>、<code>if</code>、<code>else</code>、<code>then</code>、...</td><td style="text-align:center;">一词一码</td></tr><tr><td style="text-align:center;">标识符</td><td style="text-align:center;">变量名、数组名、记录名、过程名、...</td><td style="text-align:center;">多词一码</td></tr><tr><td style="text-align:center;">常量</td><td style="text-align:center;">整型、浮点型、字符型、布尔型、...</td><td style="text-align:center;">一型一码</td></tr><tr><td style="text-align:center;">运算符</td><td style="text-align:center;">算术（<code>+ - * / ++ --</code>）关系、逻辑、...</td><td style="text-align:center;">一词一码 / 一型一码</td></tr><tr><td style="text-align:center;">界限符</td><td style="text-align:center;"><code>; ( ) = { } </code>...</td><td style="text-align:center;">一词一码</td></tr></tbody></table><h3 id="_1-3-2-词法分析后得到的-token-序列" tabindex="-1"><a class="header-anchor" href="#_1-3-2-词法分析后得到的-token-序列" aria-hidden="true">#</a> 1.3.2 词法分析后得到的 token 序列</h3><p>例如，分析下面的语句：</p><div class="language-c" data-ext="c"><pre class="language-c"><code><span class="token keyword">while</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>词法分析的输出结果如下：</p><div class="language-log" data-ext="log"><pre class="language-log"><code> <span class="token number">1</span><span class="token punctuation">.</span>  while  <span class="token operator">&lt;</span>WHILE<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
 <span class="token number">2</span><span class="token punctuation">.</span>  <span class="token operator">(</span>      <span class="token operator">&lt;</span>SLP<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
 <span class="token number">3</span><span class="token punctuation">.</span>  value  <span class="token operator">&lt;</span>IDN<span class="token punctuation">,</span> value<span class="token operator">&gt;</span>
 <span class="token number">4</span><span class="token punctuation">.</span>  <span class="token operator">!</span><span class="token operator">=</span>     <span class="token operator">&lt;</span>NE<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
 <span class="token number">5</span><span class="token punctuation">.</span>  <span class="token number">100</span>    <span class="token operator">&lt;</span>CONST<span class="token punctuation">,</span> <span class="token number">100</span><span class="token operator">&gt;</span>
 <span class="token number">6</span><span class="token punctuation">.</span>  <span class="token operator">)</span>      <span class="token operator">&lt;</span>SRP<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
 <span class="token number">7</span><span class="token punctuation">.</span>  <span class="token operator">{</span>      <span class="token operator">&lt;</span>LP<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
 <span class="token number">8</span><span class="token punctuation">.</span>  num    <span class="token operator">&lt;</span>IDN<span class="token punctuation">,</span> num<span class="token operator">&gt;</span>
 <span class="token number">9</span><span class="token punctuation">.</span>  <span class="token operator">+</span><span class="token operator">+</span>     <span class="token operator">&lt;</span>INC<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
<span class="token number">10</span><span class="token punctuation">.</span>  <span class="token operator">;</span>      <span class="token operator">&lt;</span>SEMI<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
<span class="token number">11</span><span class="token punctuation">.</span>  <span class="token operator">}</span>      <span class="token operator">&lt;</span>RP<span class="token punctuation">,</span> <span class="token operator">-</span> <span class="token operator">&gt;</span>
</code></pre></div><h2 id="_1-4-语法分析概述" tabindex="-1"><a class="header-anchor" href="#_1-4-语法分析概述" aria-hidden="true">#</a> 1.4 语法分析概述</h2><h3 id="_1-4-1-语法分析器" tabindex="-1"><a class="header-anchor" href="#_1-4-1-语法分析器" aria-hidden="true">#</a> 1.4.1 语法分析器</h3>`,8),ls=s("strong",null,"语法分析器",-1),os=s("strong",null,"语法分析树",-1),ps=o(`<h3 id="_1-4-2-赋值语句分析树" tabindex="-1"><a class="header-anchor" href="#_1-4-2-赋值语句分析树" aria-hidden="true">#</a> 1.4.2 赋值语句分析树</h3><p>例如：</p><div class="language-c" data-ext="c"><pre class="language-c"><code>position <span class="token operator">=</span> initial <span class="token operator">+</span> rate <span class="token operator">*</span> <span class="token number">60</span><span class="token punctuation">;</span>
</code></pre></div><p>序列为：<code>&lt;id, position&gt;</code>，<code>&lt;=&gt;</code>，<code>&lt;id, initial&gt;</code>，<code>&lt;+&gt;</code>，<code>&lt;id, rate&gt;</code>，<code>&lt;*&gt;</code>，<code>&lt;num, 60&gt;</code>，<code>&lt;;&gt;</code>。</p><p>赋值语句的解析结构如下：</p><p><img src="`+h+'" alt="赋值语句分析树" loading="lazy"></p><h3 id="_1-4-3-变量声明语句的分析树" tabindex="-1"><a class="header-anchor" href="#_1-4-3-变量声明语句的分析树" aria-hidden="true">#</a> 1.4.3 变量声明语句的分析树</h3>',7),cs=s("strong",null,"变量声明语句文法",-1),rs=s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mtable",{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em"},[s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mtext",null,"<D>")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"→"),s("mtext",null,"<T><IDS>;")])])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mtext",null,"<T>")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"→"),s("mtext",null,"int | real | char | bool")])])])]),s("mtr",null,[s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mtext",null,"<IDS>")])]),s("mtd",null,[s("mstyle",{scriptlevel:"0",displaystyle:"true"},[s("mrow",null,[s("mrow"),s("mo",null,"→"),s("mtext",null,"id | <IDS>, id")])])])])]),s("annotation",{encoding:"application/x-tex"}," \\begin{aligned} \\text{<D>} & \\rightarrow \\text{<T><IDS>;} \\\\ \\text{<T>} & \\rightarrow \\text{int | real | char | bool} \\\\ \\text{<IDS>}&\\rightarrow \\text{id | <IDS>, id} \\end{aligned} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"4.5em","vertical-align":"-2em"}}),s("span",{class:"mord"},[s("span",{class:"mtable"},[s("span",{class:"col-align-r"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"2.5em"}},[s("span",{style:{top:"-4.66em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord"},"<D>")])])]),s("span",{style:{top:"-3.16em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord"},"<T>")])])]),s("span",{style:{top:"-1.66em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord text"},[s("span",{class:"mord"},"<IDS>")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"2em"}},[s("span")])])])]),s("span",{class:"col-align-l"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"2.5em"}},[s("span",{style:{top:"-4.66em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"→"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord text"},[s("span",{class:"mord"},"<T><IDS>;")])])]),s("span",{style:{top:"-3.16em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"→"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord text"},[s("span",{class:"mord"},"int | real | char | bool")])])]),s("span",{style:{top:"-1.66em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"}),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"→"),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mord text"},[s("span",{class:"mord"},"id | <IDS>, id")])])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"2em"}},[s("span")])])])])])])])])])])],-1),is=o(`<p>输入：</p><div class="language-c" data-ext="c"><pre class="language-c"><code><span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>
</code></pre></div><p>解析出的语法树如下：</p><p><img src="`+k+`" alt="变量声明语句的分析树" loading="lazy"></p><h2 id="_1-5-语义分析概述" tabindex="-1"><a class="header-anchor" href="#_1-5-语义分析概述" aria-hidden="true">#</a> 1.5 语义分析概述</h2><h3 id="_1-5-1-语义分析的主要任务" tabindex="-1"><a class="header-anchor" href="#_1-5-1-语义分析的主要任务" aria-hidden="true">#</a> 1.5.1 语义分析的主要任务</h3><p>语义分析的主要任务是：</p><ol><li>收集标识符的属性信息</li><li>进行语义检查</li></ol><h3 id="_1-5-2-收集标识符的属性信息" tabindex="-1"><a class="header-anchor" href="#_1-5-2-收集标识符的属性信息" aria-hidden="true">#</a> 1.5.2 收集标识符的属性信息</h3><p>收集标识符的属性信息是语义分析的主要任务，而标识符的属性包括：</p><ul><li><strong>种型</strong>（Kind）</li><li><strong>类型</strong>（Type）</li><li><strong>储存位置、长度</strong></li><li>值</li><li>作用域</li><li>参数和返回值信息</li></ul><div class="language-pascal" data-ext="pascal"><pre class="language-pascal"><code><span class="token keyword">begin</span>
    real x<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    integer i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>
    <span class="token operator">..</span><span class="token operator">..</span><span class="token operator">..</span>
<span class="token keyword">end</span>
</code></pre></div><table><thead><tr><th style="text-align:center;">名字</th><th style="text-align:center;">相对地址</th></tr></thead><tbody><tr><td style="text-align:center;"><code>x</code></td><td style="text-align:center;"><code>0</code></td></tr><tr><td style="text-align:center;"><code>i</code></td><td style="text-align:center;"><code>64</code></td></tr><tr><td style="text-align:center;"><code>j</code></td><td style="text-align:center;"><code>68</code></td></tr></tbody></table><h3 id="_1-5-3-语义检查" tabindex="-1"><a class="header-anchor" href="#_1-5-3-语义检查" aria-hidden="true">#</a> 1.5.3 语义检查</h3><p>语义检查：</p><ol><li>变量或过程未经声明</li><li>变量或过程重复声明</li><li>运算分量类型不匹配</li><li>操作符和操作符不匹配 <ul><li>数组下标不是整数</li><li>对非数组变量使用数组访问操作符</li><li>对非过程名使用过程调用操作符</li><li>过程调用的参数类型或数目不匹配</li><li>函数返回类型有误</li></ul></li></ol><h2 id="_1-6-中间代码生成和编译器后端" tabindex="-1"><a class="header-anchor" href="#_1-6-中间代码生成和编译器后端" aria-hidden="true">#</a> 1.6 中间代码生成和编译器后端</h2><h3 id="_1-6-1-常用的中间表示形式" tabindex="-1"><a class="header-anchor" href="#_1-6-1-常用的中间表示形式" aria-hidden="true">#</a> 1.6.1 常用的中间表示形式</h3><p>常用的中间表示形式：</p>`,19),ds=s("strong",null,"三地址码",-1),us=s("em",null,"类似于汇编语言",-1),ms=s("strong",null,"操作数",-1),hs=s("strong",null,"语法树",-1),ks=s("strong",null,"语法结构树",-1),gs=o(`<p>常见三地址码：</p><table><thead><tr><th>指令类型</th><th>指令形式</th></tr></thead><tbody><tr><td>赋值指令</td><td><code>x = y op z</code> / <code>x = op y</code></td></tr><tr><td>复制指令</td><td><code>x = y</code></td></tr><tr><td>条件跳转</td><td><code>if x relop y goto n</code></td></tr><tr><td>非条件跳转</td><td><code>goto n</code></td></tr><tr><td>参数传递</td><td><code>param x</code></td></tr><tr><td>过程调用</td><td><code>call p, n</code></td></tr><tr><td>过程返回</td><td><code>return x</code></td></tr><tr><td>数组引用</td><td><code>x = y[i]</code></td></tr><tr><td>数组赋值</td><td><code>x[i] = y</code></td></tr><tr><td>地址及指针操作</td><td><code>x = &amp;y</code> / <code>x = *y</code> / <code>*x = y</code></td></tr></tbody></table><p>地址可能具有如下形式：</p><ul><li>源程序中的 <strong>名字</strong>（Name）</li><li><strong>常量</strong>（Constant）</li><li>编译器生成的 <strong>临时变量</strong>（Temporary Variable）</li></ul><p>三地址指令的表示：</p><ul><li><strong>四元式</strong>（Quadruples），即 <code>(op, y, z, x)</code></li><li><strong>三元式</strong>（Triples）</li><li><strong>间接三元式</strong>（Indirect Triples）</li></ul><p>以上三地址指令的四元式表示：</p><table><thead><tr><th>三地址指令</th><th>四元式</th></tr></thead><tbody><tr><td><code>x = y op z</code></td><td><code>(op, y, z, x)</code></td></tr><tr><td><code>x = op y</code></td><td><code>(op, y, _, x)</code></td></tr><tr><td><code>x = y</code></td><td><code>(=, y, _, x)</code></td></tr><tr><td><code>if x relop y goto n</code></td><td><code>(relop, x, y, n)</code></td></tr><tr><td><code>goto n</code></td><td><code>(goto, _, _, n)</code></td></tr><tr><td><code>param x</code></td><td><code>(param, _, _, x)</code></td></tr><tr><td><code>call p, n</code></td><td><code>(call, p, n, _)</code></td></tr><tr><td><code>return x</code></td><td><code>(return, _, _, x)</code></td></tr><tr><td><code>x = y[i]</code></td><td><code>(=[], y, i, x)</code></td></tr><tr><td><code>x[i] = y</code></td><td><code>([]=, y, x, i)</code></td></tr><tr><td><code>x = &amp;y</code></td><td><code>(&amp;, y, _, x)</code></td></tr><tr><td><code>x = *y</code></td><td><code>(=*, y, _, x)</code></td></tr><tr><td><code>*x = y</code></td><td><code>(*=, y, _, x)</code></td></tr></tbody></table><h3 id="_1-6-2-中间代码生成的例子" tabindex="-1"><a class="header-anchor" href="#_1-6-2-中间代码生成的例子" aria-hidden="true">#</a> 1.6.2 中间代码生成的例子</h3><div class="language-vb" data-ext="vb"><pre class="language-vb"><code><span class="token keyword">while</span> a <span class="token operator">&lt;</span> b <span class="token keyword">do</span>
    <span class="token keyword">if</span> c <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token keyword">then</span>
        <span class="token keyword">while</span> x <span class="token operator">&gt;</span> y <span class="token keyword">do</span>
            z <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span>;
    <span class="token keyword">else</span> x <span class="token operator">=</span> y;
</code></pre></div><p>三地址码表示（<code>j</code> 表示跳转指令）</p><div class="language-log" data-ext="log"><pre class="language-log"><code><span class="token number">100</span><span class="token operator">:</span> <span class="token operator">(</span>j<span class="token operator">&lt;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token number">102</span><span class="token operator">)</span>
<span class="token number">101</span><span class="token operator">:</span> <span class="token operator">(</span>j <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token number">112</span><span class="token operator">)</span>
<span class="token number">102</span><span class="token operator">:</span> <span class="token operator">(</span>j<span class="token operator">&lt;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token operator">)</span>
<span class="token number">103</span><span class="token operator">:</span> <span class="token operator">(</span>j <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token operator">)</span>
<span class="token number">104</span><span class="token operator">:</span> <span class="token operator">(</span>j<span class="token operator">&gt;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token number">106</span><span class="token operator">)</span>
<span class="token number">105</span><span class="token operator">:</span> <span class="token operator">(</span>j <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token operator">)</span>
<span class="token number">106</span><span class="token operator">:</span> <span class="token operator">(</span><span class="token operator">+</span> <span class="token punctuation">,</span> x<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> t1 <span class="token operator">)</span>
<span class="token number">107</span><span class="token operator">:</span> <span class="token operator">(</span><span class="token operator">=</span> <span class="token punctuation">,</span> t1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> z <span class="token operator">)</span>
<span class="token number">108</span><span class="token operator">:</span> <span class="token operator">(</span>j <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token operator">)</span>
<span class="token number">109</span><span class="token operator">:</span> <span class="token operator">(</span>j <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token operator">)</span>
<span class="token number">110</span><span class="token operator">:</span> <span class="token operator">(</span><span class="token operator">=</span> <span class="token punctuation">,</span> y<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> x  <span class="token operator">)</span>
<span class="token number">111</span><span class="token operator">:</span> <span class="token operator">(</span>j <span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token operator">)</span>
<span class="token number">112</span><span class="token operator">:</span> 
</code></pre></div><h3 id="_1-6-3-目标代码生成" tabindex="-1"><a class="header-anchor" href="#_1-6-3-目标代码生成" aria-hidden="true">#</a> 1.6.3 目标代码生成</h3><p><strong>目标代码生成</strong> 的一个重要任务是为程序中使用的变量 <em>合理分配寄存器</em>。</p>`,14),_s=s("strong",null,"代码优化",-1),ys=s("hr",{class:"footnotes-sep"},null,-1),xs={class:"footnotes"},bs={class:"footnotes-list"},fs={id:"footnote1",class:"footnote-item"},vs={href:"https://baike.baidu.com/item/%E9%AB%98%E7%BA%A7%E8%AF%AD%E8%A8%80",target:"_blank",rel:"noopener noreferrer"},ws=s("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1),js={id:"footnote2",class:"footnote-item"},Ds={href:"https://zh.wikipedia.org/wiki/%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80",target:"_blank",rel:"noopener noreferrer"},Ts=s("a",{href:"#footnote-ref2",class:"footnote-backref"},"↩︎",-1);function Is(Ms,Ss){const e=p("router-link"),l=p("Badge"),c=p("ExternalLinkIcon");return i(),d("div",null,[_,s("nav",y,[s("ul",null,[s("li",null,[t(e,{to:"#_1-1-什么是编译"},{default:n(()=>[a("1.1 什么是编译")]),_:1}),s("ul",null,[s("li",null,[t(e,{to:"#_1-1-1-计算机程序设计语言及编译"},{default:n(()=>[a("1.1.1 计算机程序设计语言及编译")]),_:1})]),s("li",null,[t(e,{to:"#_1-1-2-编译器在语言处理系统中的位置"},{default:n(()=>[a("1.1.2 编译器在语言处理系统中的位置")]),_:1})])])]),s("li",null,[t(e,{to:"#_1-2-编译系统的结构"},{default:n(()=>[a("1.2 编译系统的结构")]),_:1}),s("ul",null,[s("li",null,[t(e,{to:"#_1-2-1-人工英汉翻译的例子"},{default:n(()=>[a("1.2.1 人工英汉翻译的例子")]),_:1})]),s("li",null,[t(e,{to:"#_1-2-2-编译器的结构"},{default:n(()=>[a("1.2.2 编译器的结构")]),_:1})])])]),s("li",null,[t(e,{to:"#_1-3-词法分析概述"},{default:n(()=>[a("1.3 词法分析概述")]),_:1}),s("ul",null,[s("li",null,[t(e,{to:"#_1-3-1-词法分析的作用"},{default:n(()=>[a("1.3.1 词法分析的作用")]),_:1})]),s("li",null,[t(e,{to:"#_1-3-2-词法分析后得到的-token-序列"},{default:n(()=>[a("1.3.2 词法分析后得到的 token 序列")]),_:1})])])]),s("li",null,[t(e,{to:"#_1-4-语法分析概述"},{default:n(()=>[a("1.4 语法分析概述")]),_:1}),s("ul",null,[s("li",null,[t(e,{to:"#_1-4-1-语法分析器"},{default:n(()=>[a("1.4.1 语法分析器")]),_:1})]),s("li",null,[t(e,{to:"#_1-4-2-赋值语句分析树"},{default:n(()=>[a("1.4.2 赋值语句分析树")]),_:1})]),s("li",null,[t(e,{to:"#_1-4-3-变量声明语句的分析树"},{default:n(()=>[a("1.4.3 变量声明语句的分析树")]),_:1})])])]),s("li",null,[t(e,{to:"#_1-5-语义分析概述"},{default:n(()=>[a("1.5 语义分析概述")]),_:1}),s("ul",null,[s("li",null,[t(e,{to:"#_1-5-1-语义分析的主要任务"},{default:n(()=>[a("1.5.1 语义分析的主要任务")]),_:1})]),s("li",null,[t(e,{to:"#_1-5-2-收集标识符的属性信息"},{default:n(()=>[a("1.5.2 收集标识符的属性信息")]),_:1})]),s("li",null,[t(e,{to:"#_1-5-3-语义检查"},{default:n(()=>[a("1.5.3 语义检查")]),_:1})])])]),s("li",null,[t(e,{to:"#_1-6-中间代码生成和编译器后端"},{default:n(()=>[a("1.6 中间代码生成和编译器后端")]),_:1}),s("ul",null,[s("li",null,[t(e,{to:"#_1-6-1-常用的中间表示形式"},{default:n(()=>[a("1.6.1 常用的中间表示形式")]),_:1})]),s("li",null,[t(e,{to:"#_1-6-2-中间代码生成的例子"},{default:n(()=>[a("1.6.2 中间代码生成的例子")]),_:1})]),s("li",null,[t(e,{to:"#_1-6-3-目标代码生成"},{default:n(()=>[a("1.6.3 目标代码生成")]),_:1})])])])])]),x,b,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),f,a("（High-level Programming 是一种独立于机器，面向过程或对象的语言。高级语言是参照数学语言而设计的近似于日常会话的语言。"),v]),s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),w,a("（Assembly Language）是任何一种用于电子计算机、微处理器、微控制器，或其他可编程器件的低级语言。在不同的设备中，汇编语言对应着不同的机器语言指令集。一种汇编语言专用于某种计算机系统结构，而不像许多高级语言，可以在不同系统平台之间移植。"),j]),s("p",null,[t(l,{type:"danger"},{default:n(()=>[a("TODO")]),_:1}),a(" 首先，我们比较各种不同层次语言的特点：")]),D,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),T,a("（Compile）：将 "),I,a(" 翻译成 "),M,a(" 或者 "),S,a(" 的过程。")]),s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),E,a("（Compiler）即处理编译过程的程序。换句话说，编译器是将一种语言（通常为高级语言）翻译为另一种语言（通常为低级语言）的程序。")]),A,L,z,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),C,a("（Relocatable）：这种机器代码在内存中存放的起始位置 "),N,a(" 不是固定的。")]),s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),B,a("（External Address）：一个过程中的代码可能引用另一个文件的数据对象或过程，这些数据对象或过程的地址对于这个文件来说是外部地址。")]),O,P,V,R,q,F,s("ol",null,[s("li",null,[a("分析源语言过程 "),s("ol",null,[s("li",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),H,a("（Semantic Analysis）")]),s("li",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),K,a("（Syntax Analysis）")]),s("li",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),Q,a("（Lexical Analysis）")])])]),W]),G,J,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),U,a("（Front End）又叫分析部分，与 "),X,a(" 相关。")]),s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),Y,a("（Back End）又叫综合部分，与 "),Z,a(" 相关。")]),s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),$,a("（Syntax-Directed Translation）指在解析输入的字符串时，在特定位置执行指定的动作。换言之，根据语法把输入的字符串 "),ss,a(" 为一串动作，故名 "),as,a("。编译过程多个过程是绑定在一起的。")]),ts,ns,es,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),ls,a("（Parser）：从词法分析器输出的 token 序列中识别出各类短语，并构造 "),os,a("（Parse Tree）。")]),ps,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),cs,a("：")]),rs,is,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),ds,a("（Three-Address Code）是由 "),us,a(" 的指令序列组成，其每个指令最多有三个 "),ms,a("（Operand）。")]),s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),hs,a("（Syntax Tree）：也称为 "),ks,a(),t(l,{type:"danger"},{default:n(()=>[a("TODO")]),_:1})]),gs,s("p",null,[t(l,{type:"tip"},{default:n(()=>[a("定义")]),_:1}),a(),_s,a("（Code Optimization），为改进代码所进行的等价程序变换，使其运行得更快一些，占用空间更小一些。")]),ys,s("section",xs,[s("ol",bs,[s("li",fs,[s("p",null,[a("高级语言，百度百科，"),s("a",vs,[a("https://baike.baidu.com/item/高级语言"),t(c)]),a(),ws])]),s("li",js,[s("p",null,[a("汇编语言，维基百科，"),s("a",Ds,[a("https://zh.wikipedia.org/wiki/汇编语言"),t(c)]),a(),Ts])])])])])}const As=r(g,[["render",Is],["__file","index.html.vue"]]);export{As as default};
